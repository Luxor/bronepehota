# Инструкция по добавлению армлистов

Это руководство поможет вам добавить новые взводы солдат и технику в приложение Бронепехота.

## Содержание

1. [Добавление взвода солдат](#добавление-взвода-солдат)
2. [Добавление техники](#добавление-техники)
3. [Добавление новой фракции](#добавление-новой-фракции)
4. [Форматы данных](#форматы-данных)
5. [Работа с изображениями](#работа-с-изображениями)

## Добавление взвода солдат

### Шаг 1: Открыть редактор

1. Запустите приложение
2. Нажмите кнопку **"Редактор"** в главном меню
3. Выберите вкладку **"Взвод солдат"**

### Шаг 2: Заполнить основную информацию

- **Фракция** * (обязательно) - выберите из списка существующих фракций
- **Название** * (обязательно) - например: "Легкая штурмовая клон-пехота"
- **Стоимость** * (обязательно) - количество очков за взвод
- **Ссылка на армлист** (опционально) - URL оригинального армлиста, например: `https://vk.com/photo-233498256_457239120`
- **Изображение армлиста** (опционально) - загрузите или вставьте изображение армлиста

### Шаг 3: Добавить солдат

Нажмите кнопку **"Добавить солдата"** (можно добавить до 6 солдат).

Для каждого солдата заполните:

- **Ранг** * - числовое значение (обычно 2-7)
- **Скорость** * - числовое значение (обычно 1-6)
- **Дальность** * - формат: `D6`, `D12`, `D20`, `ББ` (ближний бой), или комбинации типа `D6+2`
- **Мощность** * - формат: `1D6`, `2D12`, `3D20`, или просто число для ББ
- **ББ** * (ближний бой) - числовое значение
- **Броня** * - числовое значение (обычно 1-5)
- **Изображение солдата** (опционально) - загрузите или вставьте изображение миниатюры
- **Спец свойства** (опционально) - массив строк, например: `["Г"]` для гранаты

### Шаг 4: Сохранить

Нажмите кнопку **"Сохранить взвод"**. Взвод будет автоматически добавлен в базу данных.

## Добавление техники

### Шаг 1: Открыть редактор

1. Запустите приложение
2. Нажмите кнопку **"Редактор"** в главном меню
3. Выберите вкладку **"Техника"**

### Шаг 2: Заполнить основную информацию

- **Фракция** * (обязательно) - выберите из списка
- **Название** * (обязательно) - например: "Demolisher"
- **Стоимость** * (обязательно) - количество очков
- **Ранг** * - числовое значение (обычно 2)
- **Боезапас** * - максимальное количество боеприпасов
- **Прочность** * - максимальная прочность (durability_max)
- **Скорость стрельбы** - количество выстрелов за ход (обычно 1-2)
- **Ссылка на армлист** (опционально) - URL оригинального армлиста
- **Изображение армлиста** (опционально) - загрузите или вставьте изображение

### Шаг 3: Добавить секторы скорости

Секторы скорости определяют, как изменяется скорость машины при потере прочности.

Нажмите **"Добавить сектор"** и заполните:

- **Мин. прочность** - минимальное значение прочности для этого сектора
- **Макс. прочность** - максимальное значение прочности для этого сектора
- **Скорость** - скорость в этом диапазоне прочности

**Пример:**
- Сектор 1: Мин. 9, Макс. 16, Скорость 2
- Сектор 2: Мин. 1, Макс. 8, Скорость 1

Это означает, что при прочности 9-16 машина движется со скоростью 2, а при прочности 1-8 - со скоростью 1.

### Шаг 4: Добавить оружие

Нажмите **"Добавить оружие"** и заполните для каждого оружия:

- **Название** - например: "Энергетический гарпун"
- **Дальность** - формат: `D6`, `D12`, `D20`, `ББ`, или `D6+2`
- **Мощность** - формат: `1D6`, `2D12`, `6D20`, или просто число для ББ
- **Спец свойство** (опционально) - например: "Взрыв 2ш - 1D20"

### Шаг 5: Сохранить

Нажмите кнопку **"Сохранить технику"**. Техника будет автоматически добавлена в базу данных.
/su
## Добавление новой фракции

### Через API (для разработчиков)

Фракции хранятся в файле `src/data/factions.json`. Для добавления новой фракции:

1. Откройте файл `src/data/factions.json`
2. Добавьте новый объект фракции:

```json
{
  "id": "new_faction",
  "name": "Название фракции",
  "color": "#hex_color",
  "symbol": "Shield",
  "description": "Описание фракции",
  "homeWorld": "Родной мир",
  "motto": "Девиз фракции"
}
```

3. Обновите тип `FactionID` в `src/lib/types.ts`:

```typescript
export type FactionID = 'polaris' | 'protectorate' | 'mercenaries' | 'new_faction';
```

### Доступные символы

- `Shield` - Щит
- `Zap` - Молния
- `Skull` - Череп

## Форматы данных

### Дальность (Range)

- `D6` - один шестигранный кубик
- `D12` - один двенадцатигранный кубик
- `D20` - один двадцатигранный кубик
- `ББ` - ближний бой (hand-to-hand)
- `D6+2` - D6 плюс модификатор
- `D12+3` - D12 плюс модификатор

### Мощность (Power)

- `1D6` - один шестигранный кубик
- `2D12` - два двенадцатигранных кубика
- `3D20` - три двадцатигранных кубика
- `2` - просто число (для ближнего боя)
- `6D20` - шесть двадцатигранных кубиков

### Спец свойства (Props)

Массив строк, каждая строка - одно свойство. Примеры:

- `["Г"]` - граната
- `["Б", "П"]` - броня и прицел
- `[]` - нет спец свойств

### Секторы скорости

Массив объектов с полями:
- `min_durability` - минимальная прочность
- `max_durability` - максимальная прочность
- `speed` - скорость в этом диапазоне

**Важно:** Секторы должны покрывать весь диапазон от 1 до `durability_max` без пропусков.

## Работа с изображениями

### Загрузка изображений

Вы можете загрузить изображения тремя способами:

1. **Копирование из буфера обмена:**
   - Скопируйте изображение (Ctrl+C или правый клик → Копировать)
   - Нажмите на область загрузки изображения
   - Нажмите Ctrl+V (или Cmd+V на Mac)
   - Изображение автоматически загрузится

2. **Перетаскивание (Drag & Drop):**
   - Перетащите файл изображения в область загрузки
   - Изображение автоматически загрузится

3. **Выбор файла:**
   - Нажмите кнопку "Выбрать файл"
   - Выберите изображение на вашем компьютере

### Требования к изображениям

- **Формат:** JPG, PNG, GIF, WebP
- **Максимальный размер:** 10 MB
- **Рекомендуемый размер для армлистов:** 800x1200 пикселей
- **Рекомендуемый размер для солдат:** 200x200 пикселей (квадратные)

### Где сохраняются изображения

- **Армлисты взводов:** `public/images/squads/`
- **Армлисты техники:** `public/images/machines/`
- **Изображения солдат:** `public/images/soldiers/`

## Редактирование существующих армлистов

1. Откройте редактор
2. Найдите нужный армлист в списке
3. Нажмите кнопку **"Редактировать"**
4. Внесите изменения
5. Нажмите **"Сохранить"**

## Удаление армлистов

1. Откройте редактор
2. Найдите нужный армлист в списке
3. Нажмите кнопку **"Удалить"** (иконка корзины)
4. Подтвердите удаление

**Внимание:** Удаление необратимо. Изображения останутся в файловой системе.

## Советы

1. **Используйте понятные названия** - это поможет найти армлист в списке
2. **Проверяйте данные** - убедитесь, что все обязательные поля заполнены
3. **Сохраняйте ссылки на оригиналы** - это поможет найти источник данных
4. **Используйте качественные изображения** - это улучшит внешний вид приложения
5. **Тестируйте после добавления** - проверьте, что армлист корректно отображается в игре

## Примеры

### Пример взвода

```json
{
  "id": "polaris_light_assault_clone",
  "name": "Легкая штурмовая клон-пехота",
  "faction": "polaris",
  "cost": 70,
  "image": "/images/squads/polaris_light_assault_clone.jpg",
  "soldiers": [
    {
      "rank": 7,
      "speed": 4,
      "range": "D6",
      "power": "1D6",
      "melee": 0,
      "props": ["Г"],
      "armor": 2,
      "image": "/images/soldiers/soldier_1.png"
    }
  ]
}
```

### Пример техники

```json
{
  "id": "demolisher",
  "name": "Demolisher",
  "faction": "polaris",
  "cost": 160,
  "rank": 2,
  "fire_rate": 2,
  "ammo_max": 20,
  "durability_max": 16,
  "speed_sectors": [
    { "min_durability": 9, "max_durability": 16, "speed": 2 },
    { "min_durability": 1, "max_durability": 8, "speed": 1 }
  ],
  "weapons": [
    { "name": "Энергетический гарпун", "range": "D6+2", "power": "6D20" },
    { "name": "Тяжелая ракета", "range": "D12", "power": "4D20", "special": "Взрыв 2ш - 1D20" }
  ]
}
```

## Поддержка

Если у вас возникли вопросы или проблемы:

1. Проверьте, что все обязательные поля заполнены
2. Убедитесь, что форматы данных соответствуют требованиям
3. Проверьте консоль браузера на наличие ошибок (F12)
4. Убедитесь, что изображения загружаются корректно

---

**Приятной игры!**


